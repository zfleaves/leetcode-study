<!--
 * @Date: 2023-11-17 19:56:50
 * @LastEditors: zhangming 1051403128@qq.com
 * @LastEditTime: 2024-05-18 22:40:14
 * @FilePath: \leetcode-study\简单\index-36.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>有效的数独</title>
    <link rel="stylesheet" href="../common.css" />
</head>

<body>
    <div class="elfjS" data-track-load="description_content">
        <p>请你判断一个&nbsp;<code>9 x 9</code> 的数独是否有效。只需要<strong> 根据以下规则</strong> ，验证已经填入的数字是否有效即可。</p>

        <ol>
            <li>数字&nbsp;<code>1-9</code>&nbsp;在每一行只能出现一次。</li>
            <li>数字&nbsp;<code>1-9</code>&nbsp;在每一列只能出现一次。</li>
            <li>数字&nbsp;<code>1-9</code>&nbsp;在每一个以粗实线分隔的&nbsp;<code>3x3</code>&nbsp;宫内只能出现一次。（请参考示例图）</li>
        </ol>

        <p>&nbsp;</p>

        <p><strong>注意：</strong></p>

        <ul>
            <li>一个有效的数独（部分已被填充）不一定是可解的。</li>
            <li>只需要根据以上规则，验证已经填入的数字是否有效即可。</li>
            <li>空白格用&nbsp;<code>'.'</code>&nbsp;表示。</li>
        </ul>

        <p>&nbsp;</p>

        <p><strong>示例 1：</strong></p>
        <img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2021/04/12/250px-sudoku-by-l2g-20050714svg.png"
            style="height: 250px; width: 250px;">
        <pre><strong>输入：</strong>board = 
        [["5","3",".",".","7",".",".",".","."]
        ,["6",".",".","1","9","5",".",".","."]
        ,[".","9","8",".",".",".",".","6","."]
        ,["8",".",".",".","6",".",".",".","3"]
        ,["4",".",".","8",".","3",".",".","1"]
        ,["7",".",".",".","2",".",".",".","6"]
        ,[".","6",".",".",".",".","2","8","."]
        ,[".",".",".","4","1","9",".",".","5"]
        ,[".",".",".",".","8",".",".","7","9"]]
        <strong>输出：</strong>true
        </pre>

        <p><strong>示例 2：</strong></p>

        <pre><strong>输入：</strong>board = 
        [["8","3",".",".","7",".",".",".","."]
        ,["6",".",".","1","9","5",".",".","."]
        ,[".","9","8",".",".",".",".","6","."]
        ,["8",".",".",".","6",".",".",".","3"]
        ,["4",".",".","8",".","3",".",".","1"]
        ,["7",".",".",".","2",".",".",".","6"]
        ,[".","6",".",".",".",".","2","8","."]
        ,[".",".",".","4","1","9",".",".","5"]
        ,[".",".",".",".","8",".",".","7","9"]]
        <strong>输出：</strong>false
        <strong>解释：</strong>除了第一行的第一个数字从<strong> 5</strong> 改为 <strong>8 </strong>以外，空格内其他数字均与 示例1 相同。 但由于位于左上角的 3x3 宫内有两个 8 存在, 因此这个数独是无效的。</pre>

        <p>&nbsp;</p>

        <p><strong>提示：</strong></p>

        <ul>
            <li><code>board.length == 9</code></li>
            <li><code>board[i].length == 9</code></li>
            <li><code>board[i][j]</code> 是一位数字（<code>1-9</code>）或者 <code>'.'</code></li>
        </ul>
    </div>
    <div class="analysis">
        动态规划 本问题其实常规解法可以分成多个子问题，爬第n阶楼梯的方法数量，等于 2 部分之和
        <br>
        1、爬上 n−1n-1n−1 阶楼梯的方法数量。因为再爬1阶就能到第n阶
        <br>
        2、爬上 n−2n-2n−2 阶楼梯的方法数量，因为再爬2阶就能到第n阶
        <br>
        所以我们得到公式 dp[n]=dp[n−1]+dp[n−2]dp[n] = dp[n-1] + dp[n-2]dp[n]=dp[n−1]+dp[n−2]
        <br>
        同时需要初始化 dp[0]=1dp[0]=1dp[0]=1 和 dp[1]=1dp[1]=1dp[1]=1
        <br>
        时间复杂度：O(n)O(n)O(n)
    </div>
    <script>
        var isValidSudoku = function (board) {
            // 方向判重
            let rows = {}; //行
            let columns = {}; //列
            let boxes = {}; //3*3小方块
            // 遍历数独
            for (let i = 0; i < 9; i++) {
                for (let j = 0; j < 9; j++) {
                    let num = board[i][j];
                    if (num != '.') { //遇到有效的数字
                        let boxIndex = parseInt((i / 3)) * 3 + parseInt(j / 3); // 子数独序号
                        if (rows[i + '-' + num] || columns[j + '-' + num] || boxes[boxIndex + '-' + num]) { //重复检测
                            return false;
                        }
                        // 方向 + 数字 组成唯一键值，若出现第二次，即为重复
                        // 更新三个对象
                        rows[i + '-' + num] = true;
                        columns[j + '-' + num] = true;
                        boxes[boxIndex + '-' + num] = true;
                    }
                }
            }
            return true;
        };
        const board = [
            ["5", "3", ".", ".", "7", ".", ".", ".", "."],
            ["6", ".", ".", "1", "9", "5", ".", ".", "."],
            [".", "9", "8", ".", ".", ".", ".", "6", "."],
            ["8", ".", ".", ".", "6", ".", ".", ".", "3"],
            ["4", ".", ".", "8", ".", "3", ".", ".", "1"],
            ["7", ".", ".", ".", "2", ".", ".", ".", "6"],
            [".", "6", ".", ".", ".", ".", "2", "8", "."],
            [".", ".", ".", "4", "1", "9", ".", ".", "5"],
            [".", ".", ".", ".", "8", ".", ".", "7", "9"]
        ];
        const result = isValidSudoku(board);
        console.log("result: ", result);
    </script>
</body>

</html>