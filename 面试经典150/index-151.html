<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>反转字符串中的单词</title>
    <link rel="stylesheet" href="../common.css" as="style" />
    <style>
        span.katex-mathml {
            display: none;
        }
    </style>
</head>

<body>
    <div class="elfjS" data-track-load="description_content">
        <p>给你一个字符串 <code>s</code> ，请你反转字符串中 <strong>单词</strong> 的顺序。</p>

        <p><strong>单词</strong> 是由非空格字符组成的字符串。<code>s</code> 中使用至少一个空格将字符串中的 <strong>单词</strong> 分隔开。</p>

        <p>返回 <strong>单词</strong> 顺序颠倒且 <strong>单词</strong> 之间用单个空格连接的结果字符串。</p>

        <p><strong>注意：</strong>输入字符串 <code>s</code>中可能会存在前导空格、尾随空格或者单词间的多个空格。返回的结果字符串中，单词间应当仅用单个空格分隔，且不包含任何额外的空格。</p>

        <p>&nbsp;</p>

        <p><strong>示例 1：</strong></p>

        <pre><strong>输入：</strong>s = "<code>the sky is blue</code>"
        <strong>输出：</strong>"<code>blue is sky the</code>"
        </pre>

        <p><strong>示例 2：</strong></p>

        <pre><strong>输入：</strong>s = " &nbsp;hello world &nbsp;"
        <strong>输出：</strong>"world hello"
        <strong>解释：</strong>反转后的字符串中不能存在前导空格和尾随空格。
        </pre>

        <p><strong>示例 3：</strong></p>

        <pre><strong>输入：</strong>s = "a good &nbsp; example"
        <strong>输出：</strong>"example good a"
        <strong>解释：</strong>如果两个单词间有多余的空格，反转后的字符串需要将单词间的空格减少到仅有一个。
        </pre>

        <p>&nbsp;</p>

        <p><strong>提示：</strong></p>

        <ul>
            <li><code>1 &lt;= s.length &lt;= 10<sup>4</sup></code></li>
            <li><code>s</code> 包含英文大小写字母、数字和空格 <code>' '</code></li>
            <li><code>s</code> 中 <strong>至少存在一个</strong> 单词</li>
        </ul>

        <ul>
        </ul>

        <p>&nbsp;</p>

        <p><strong>进阶：</strong>如果字符串在你使用的编程语言中是一种可变数据类型，请尝试使用&nbsp;<code>O(1)</code> 额外空间复杂度的 <strong>原地</strong> 解法。
        </p>
    </div>
    <div class="analysis">
        <ol>
            <li>使用双指针的方法，从后向前遍历字符</li>
            <li>右端的指针遇到空格跳过，直到单词的末尾，然后将左端的指针指向右端</li>
            <li>在2的基础上，左指针继续向前，直到遇到空格或小于0才停下（此时左右指针之间就是单词）</li>
            <li>把单词添加到结果字符串中，然后把右指针指向左指针，开始下一轮遍历</li>
            <li>下一轮遍历开始后，如果还有新单词，就给上一个单词后面添加一个空格</li>
        </ol>
    </div>
    </div>
    <script>
        var reverseWords = function (s) {
            let r = s.length - 1, l = r, res = "";
            while (l >= 0) {
                //先找到单词的尾部
                while (s[r] === " ") {
                    r--;
                }
                l = r;

                //给上次单词加空格，排除第一次
                if (l >= 0 && res) {
                    res += " ";
                }

                //再找到单词的头部
                while (s[l] && s[l] !== " ") {
                    l--;
                }

                //遍历单词并添加
                // for (let i = l + 1, j = r; i <= j; i++) {
                //     res += s[i];
                // }
                for (let i = l + 1; i <= r; i++) {
                    res += s[i];
                }

                //跳到下一个单词
                r = l;
            }

            return res;
        };
        const s = "a good   example"
        const result = reverseWords(s);
        console.log("result: ", result);
    </script>
</body>

</html>