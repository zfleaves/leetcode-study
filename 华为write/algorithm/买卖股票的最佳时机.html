<!--
 * @Date: 2023-11-20 19:35:21
 * @LastEditors: zhangming 1051403128@qq.com
 * @LastEditTime: 2024-06-29 14:02:23
 * @FilePath: \leetcode-study\write\algorithm\买卖股票的最佳时机.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>买卖股票的最佳时机</title>
    <link rel="stylesheet" href="../common.css" />
</head>

<body>
    <div class="px-5 pt-4">
        <div class="flex"></div>
        <div class="xFUwe" data-track-load="description_content">
            <p>给定一个数组 <code>prices</code> ，它的第&nbsp;<code>i</code> 个元素&nbsp;<code>prices[i]</code> 表示一支给定股票第
                <code>i</code> 天的价格。</p>

            <p>你只能选择 <strong>某一天</strong> 买入这只股票，并选择在 <strong>未来的某一个不同的日子</strong> 卖出该股票。设计一个算法来计算你所能获取的最大利润。</p>

            <p>返回你可以从这笔交易中获取的最大利润。如果你不能获取任何利润，返回 <code>0</code> 。</p>

            <p>&nbsp;</p>

            <p><strong>示例 1：</strong></p>

            <pre><strong>输入：</strong>[7,1,5,3,6,4]
        <strong>输出：</strong>5
        <strong>解释：</strong>在第 2 天（股票价格 = 1）的时候买入，在第 5 天（股票价格 = 6）的时候卖出，最大利润 = 6-1 = 5 。
             注意利润不能是 7-1 = 6, 因为卖出价格需要大于买入价格；同时，你不能在买入前卖出股票。
        </pre>

            <p><strong>示例 2：</strong></p>

            <pre><strong>输入：</strong>prices = [7,6,4,3,1]
        <strong>输出：</strong>0
        <strong>解释：</strong>在这种情况下, 没有交易完成, 所以最大利润为 0。
        </pre>

            <p>&nbsp;</p>

            <p><strong>提示：</strong></p>

            <ul>
                <li><code>1 &lt;= prices.length &lt;= 10<sup>5</sup></code></li>
                <li><code>0 &lt;= prices[i] &lt;= 10<sup>4</sup></code></li>
            </ul>
        </div>
    </div>
    <div class="analysis">
        从左到右枚举卖出价格 prices[i]\textit{prices}[i]prices[i]，那么要想获得最大利润，我们需要知道第 iii 天之前，股票价格的最小值是什么，也就是从
        prices[0]\textit{prices}[0]prices[0] 到 prices[i−1]\textit{prices}[i-1]prices[i−1] 的最小值，把它作为买入价格，这可以用一个变量
        minPrice\textit{minPrice}minPrice 维护。
        <br>
        请注意，minPrice\textit{minPrice}minPrice 维护的是 prices[i]\textit{prices}[i]prices[i] 左侧元素的最小值。
        <br>
        由于只能买卖一次，所以在遍历中，维护 prices[i]−minPrice\textit{prices}[i]-\textit{minPrice}prices[i]−minPrice 的最大值，就是答案。
    </div>
    <script>
        /**
         * @param {number[]} prices
         * @return {number}
         */
        var maxProfit = function (prices) {
            let max = 0
            let min = prices[0]
            for (let i = 0; i < prices.length; i++) {
                max = Math.max(max, prices[i] - min)
                min = Math.min(min, prices[i])
            }
            return max
        };
        const prices = [7, 1, 5, 3, 6, 4]
        const result = maxProfit(prices);
        console.log("result: ", result);
    </script>
</body>

</html>