# Vue2 å“åº”å¼ç³»ç»Ÿæ‰§è¡Œæµç¨‹

## ä¸€ã€åˆå§‹åŒ–æµç¨‹ï¼ˆä»åˆ›å»ºåˆ°é¦–æ¬¡æ¸²æŸ“ï¼‰

### 1. åˆ›å»º Vue å®ä¾‹
```javascript
const vm = new Vue({
  el: '#app',
  data: {
    message: 'Hello Vue'
  },
  template: '<div>{{ message }}</div>'
});
```

### 2. æ‰§è¡Œæµç¨‹è¯¦è§£

#### é˜¶æ®µ 1: å®ä¾‹åˆå§‹åŒ–
```
new Vue(options)
  â””â”€> this._init(options) [index.js:28]
      â”œâ”€> åˆå¹¶é€‰é¡¹: vm.$options = mergeOptions(...)
      â”œâ”€> initLifecycle(vm) [index.js:67]
      â”‚   â”œâ”€> è®¾ç½® vm.$parentã€vm.$root
      â”‚   â”œâ”€> åˆå§‹åŒ– vm.$childrenã€vm.$refs
      â”‚   â””â”€> è®¾ç½®ç”Ÿå‘½å‘¨æœŸæ ‡å¿—ä½
      â”œâ”€> initEvents(vm) [index.js:103]
      â”œâ”€> initRender(vm) [index.js:109]
      â”‚   â”œâ”€> åˆå§‹åŒ– vm._cã€vm.$createElement
      â”‚   â””â”€> åˆå§‹åŒ– vm.$slotsã€vm.$scopedSlots
      â”œâ”€> callHook(vm, 'beforeCreate') [index.js:117]
      â”‚   â””â”€> è§¦å‘ beforeCreate é’©å­
      â”œâ”€> initInjections(vm) [index.js:120]
      â”œâ”€> initState(vm) [index.js:126] ğŸ”´ å…³é”®æ­¥éª¤
      â”‚   â”œâ”€> initProps(vm, opts.props)
      â”‚   â”œâ”€> initMethods(vm, opts.methods)
      â”‚   â”œâ”€> initData(vm) [index.js:145] ğŸ”´ å…³é”®æ­¥éª¤
      â”‚   â”‚   â”œâ”€> æ‰§è¡Œ data å‡½æ•°è·å–æ•°æ®å¯¹è±¡
      â”‚   â”‚   â”œâ”€> éªŒè¯ data æ˜¯å¦æ˜¯çº¯å¯¹è±¡
      â”‚   â”‚   â”œâ”€> ä»£ç† data åˆ°å®ä¾‹: proxy(vm, '_data', key)
      â”‚   â”‚   â”‚   â””â”€> é€šè¿‡ Object.defineProperty å°† vm._data[key] ä»£ç†åˆ° vm[key]
      â”‚   â”‚   â””â”€> observe(data, true) [index.js:182] ğŸ”´ å…³é”®æ­¥éª¤
      â”‚   â”‚       â””â”€> Observer.js: observe() [Observer.js:95]
      â”‚   â”‚           â””â”€> new Observer(value) [Observer.js:28]
      â”‚   â”‚               â”œâ”€> def(value, '__ob__', this) // æ·»åŠ  __ob__ å±æ€§
      â”‚   â”‚               â”œâ”€> this.walk(value) [Observer.js:54]
      â”‚   â”‚               â”‚   â””â”€> éå†å¯¹è±¡çš„æ‰€æœ‰å±æ€§
      â”‚   â”‚               â”‚       â””â”€> defineReactive(obj, key) [Observer.js:109] ğŸ”´ å…³é”®æ­¥éª¤
      â”‚   â”‚               â”‚           â”œâ”€> const dep = new Dep() [Dep.js:21]
      â”‚   â”‚               â”‚           â”‚   â”œâ”€> this.id = uid++
      â”‚   â”‚               â”‚           â”‚   â””â”€> this.subs = [] // è®¢é˜…è€…æ•°ç»„
      â”‚   â”‚               â”‚           â”œâ”€> let childOb = observe(val) // é€’å½’è§‚å¯Ÿå­å±æ€§
      â”‚   â”‚               â”‚           â””â”€> Object.defineProperty(obj, key, {...}) [Observer.js:126]
      â”‚   â”‚               â”‚               â”œâ”€> get() [Observer.js:131]
      â”‚   â”‚               â”‚               â”‚   â”œâ”€> const value = getter ? getter.call(obj) : val
      â”‚   â”‚               â”‚               â”‚   â”œâ”€> dep.depend() [Dep.js:50] ğŸ”´ ä¾èµ–æ”¶é›†
      â”‚   â”‚               â”‚               â”‚   â”‚   â”œâ”€> if (Dep.target) // æ£€æŸ¥æ˜¯å¦æœ‰ Watcher æ­£åœ¨æ‰§è¡Œ
      â”‚   â”‚               â”‚               â”‚   â”‚   â”‚   â””â”€> Dep.target.addDep(this) [Dep.js:52]
      â”‚   â”‚               â”‚               â”‚   â”‚   â”‚       â””â”€> å°† Dep æ·»åŠ åˆ° Watcher çš„ä¾èµ–åˆ—è¡¨
      â”‚   â”‚               â”‚               â”‚   â”‚   â””â”€> å°† Watcher æ·»åŠ åˆ° Dep çš„è®¢é˜…åˆ—è¡¨
      â”‚   â”‚               â”‚               â”‚   â”œâ”€> if (childOb) childOb.dep.depend() // æ”¶é›†å­å¯¹è±¡ä¾èµ–
      â”‚   â”‚               â”‚               â”‚   â””â”€> return value
      â”‚   â”‚               â”‚               â””â”€> set(newVal) [Observer.js:146]
      â”‚   â”‚               â”‚                   â”œâ”€> if (newVal === value) return // å€¼æœªå˜åŒ–ï¼Œç›´æ¥è¿”å›
      â”‚   â”‚               â”‚                   â”œâ”€> val = newVal // æ›´æ–°å€¼
      â”‚   â”‚               â”‚                   â”œâ”€> childOb = observe(newVal) // é€’å½’è§‚å¯Ÿæ–°å€¼
      â”‚   â”‚               â”‚                   â””â”€> dep.notify() [Dep.js:60] ğŸ”´ è§¦å‘æ›´æ–°
      â”‚   â”‚               â”‚                       â”œâ”€> è¿‡æ»¤æ‰ null å€¼
      â”‚   â”‚               â”‚                       â”œâ”€> å¯¹è®¢é˜…è€…æ’åºï¼ˆç¡®ä¿æ‰§è¡Œé¡ºåºï¼‰
      â”‚   â”‚               â”‚                       â””â”€> éå†æ‰€æœ‰è®¢é˜…è€…ï¼Œæ‰§è¡Œ subs[i].update()
      â”‚   â”‚               â””â”€> è¿”å› Observer å®ä¾‹
      â”‚   â”œâ”€> initComputed(vm, opts.computed)
      â”‚   â”‚   â””â”€> ä¸ºæ¯ä¸ªè®¡ç®—å±æ€§åˆ›å»º Watcherï¼ˆlazy: trueï¼‰
      â”‚   â””â”€> initWatch(vm, opts.watch)
      â”‚       â””â”€> ä¸ºæ¯ä¸ªä¾¦å¬å™¨åˆ›å»º Watcherï¼ˆuser: trueï¼‰
      â”œâ”€> initProvide(vm) [index.js:133]
      â””â”€> callHook(vm, 'created') [index.js:136]
          â””â”€> è§¦å‘ created é’©å­ï¼ˆæ­¤æ—¶ dataã€methodsã€computedã€watch éƒ½å·²åˆå§‹åŒ–ï¼‰
```

#### é˜¶æ®µ 2: æŒ‚è½½ç»„ä»¶
```
vm.$mount(vm.$options.el) [index.js:630]
  â””â”€> mountComponent(vm, el, hydrating) [mountComponent.js:48]
      â”œâ”€> vm.$el = el // ä¿å­˜æŒ‚è½½å…ƒç´ 
      â”œâ”€> callHook(vm, 'beforeMount') [mountComponent.js:52]
      â”‚   â””â”€> è§¦å‘ beforeMount é’©å­
      â”œâ”€> å®šä¹‰æ›´æ–°ç»„ä»¶å‡½æ•° [mountComponent.js:56]
      â”‚   â””â”€> updateComponent = () => {
      â”‚       vm._update(vm._render(), hydrating)
      â”‚   }
      â”œâ”€> new Watcher(vm, updateComponent, noop, {...}, true) [mountComponent.js:62] ğŸ”´ å…³é”®æ­¥éª¤
      â”‚   â””â”€> Watcher.js: Watcher() [Watcher.js:54]
      â”‚       â”œâ”€> this.id = ++uid
      â”‚       â”œâ”€> this.getter = expOrFn // updateComponent å‡½æ•°
      â”‚       â”œâ”€> this.active = true
      â”‚       â”œâ”€> this.deps = [] // ä¾èµ–çš„ Dep æ•°ç»„
      â”‚       â”œâ”€> this.newDeps = [] // æ–°æ”¶é›†çš„ Dep æ•°ç»„
      â”‚       â””â”€> this.value = this.get() [Watcher.js:98] ğŸ”´ å…³é”®æ­¥éª¤
      â”‚           â””â”€> pushTarget(this) [Dep.js:85]
      â”‚           â”‚   â””â”€> Dep.target = this // è®¾ç½®å…¨å±€ç›®æ ‡ä¸ºå½“å‰ Watcher
      â”‚           â”œâ”€> value = this.getter.call(vm, vm) [Watcher.js:103]
      â”‚           â”‚   â””â”€> updateComponent() [mountComponent.js:56]
      â”‚           â”‚       â””â”€> vm._update(vm._render(), hydrating) [index.js:660]
      â”‚           â”‚           â”œâ”€> vm._render() [index.js:680]
      â”‚           â”‚           â”‚   â””â”€> æ‰§è¡Œæ¸²æŸ“å‡½æ•°ï¼Œç”Ÿæˆ VNode
      â”‚           â”‚           â”‚       â””â”€> render.call(vm._renderProxy, vm.$createElement)
      â”‚           â”‚           â”‚           â””â”€> åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­è®¿é—® vm.message
      â”‚           â”‚           â”‚               â””â”€> è§¦å‘ message çš„ getter [Observer.js:131]
      â”‚           â”‚           â”‚                   â””â”€> dep.depend() [Dep.js:50] ğŸ”´ ä¾èµ–æ”¶é›†
      â”‚           â”‚           â”‚                       â””â”€> Dep.target.addDep(this)
      â”‚           â”‚           â”‚                           â””â”€> Watcher æ”¶é›†åˆ° message çš„ Dep
      â”‚           â”‚           â””â”€> vm.__patch__(...) // å°† VNode è½¬æ¢ä¸ºçœŸå® DOM
      â”‚           â”‚               â””â”€> createElm(vnode) // åˆ›å»ºçœŸå® DOM å…ƒç´ 
      â”‚           â”‚               â””â”€> insert(parentElm, vnode.elm) // æ’å…¥ DOM
      â”‚           â””â”€> popTarget() [Dep.js:92]
      â”‚               â””â”€> Dep.target = null // æ¢å¤å…¨å±€ç›®æ ‡
      â””â”€> callHook(vm, 'mounted') [mountComponent.js:75]
          â””â”€> è§¦å‘ mounted é’©å­ï¼ˆæ­¤æ—¶ DOM å·²åˆ›å»ºå¹¶æ’å…¥é¡µé¢ï¼‰
```

---

## äºŒã€æ•°æ®æ›´æ–°æµç¨‹ï¼ˆä»ä¿®æ”¹æ•°æ®åˆ°æ›´æ–°è§†å›¾ï¼‰

### 1. ä¿®æ”¹æ•°æ®
```javascript
vm.message = 'Hello World';
```

### 2. æ‰§è¡Œæµç¨‹è¯¦è§£
```
vm.message = 'Hello World'
  â””â”€> è§¦å‘ message çš„ setter [Observer.js:146]
      â”œâ”€> if (newVal === value) return // å€¼æœªå˜åŒ–ï¼Œç›´æ¥è¿”å›
      â”œâ”€> val = newVal // æ›´æ–°å€¼
      â”œâ”€> childOb = observe(newVal) // é€’å½’è§‚å¯Ÿæ–°å€¼
      â””â”€> dep.notify() [Dep.js:60] ğŸ”´ è§¦å‘æ›´æ–°
          â”œâ”€> const subs = this.subs.filter(s => s) // è¿‡æ»¤æ‰ null å€¼
          â”œâ”€> subs.sort((a, b) => a.id - b.id) // æ’åºï¼ˆç¡®ä¿æ‰§è¡Œé¡ºåºï¼‰
          â””â”€> for (let i = 0; i < subs.length; i++) subs[i].update()
              â””â”€> Watcher.update() [Watcher.js:175]
                  â”œâ”€> if (this.lazy) this.dirty = true // è®¡ç®—å±æ€§ï¼šæ ‡è®°ä¸ºè„
                  â”œâ”€> else if (this.sync) this.run() // åŒæ­¥ Watcherï¼šç«‹å³æ‰§è¡Œ
                  â””â”€> else queueWatcher(this) [Watcher.js:185] ğŸ”´ æ™®é€š Watcherï¼šåŠ å…¥é˜Ÿåˆ—
                      â”œâ”€> const id = watcher.id
                      â”œâ”€> if (has[id] != null) return // å»é‡
                      â”œâ”€> has[id] = true
                      â”œâ”€> queue.push(watcher) // åŠ å…¥é˜Ÿåˆ—
                      â”œâ”€> if (!waiting) waiting = true
                      â””â”€> nextTick(flushSchedulerQueue) // åœ¨ä¸‹ä¸€ä¸ª tick åˆ·æ–°é˜Ÿåˆ—
                          â””â”€> flushSchedulerQueue() [Watcher.js:220] ğŸ”´ åˆ·æ–°è°ƒåº¦é˜Ÿåˆ—
                              â”œâ”€> queue.sort((a, b) => a.id - b.id) // æŒ‰ ID æ’åº
                              â”œâ”€> for (let i = 0; i < queue.length; i++)
                              â”‚   â””â”€> watcher.run() [Watcher.js:193] ğŸ”´ æ‰§è¡Œæ›´æ–°
                              â”‚       â”œâ”€> const value = this.get() [Watcher.js:98]
                              â”‚       â”‚   â””â”€> pushTarget(this)
                              â”‚       â”‚   â”œâ”€> value = this.getter.call(vm, vm)
                              â”‚       â”‚   â”‚   â””â”€> updateComponent()
                              â”‚       â”‚   â”‚       â””â”€> vm._update(vm._render(), hydrating)
                              â”‚       â”‚   â”‚           â”œâ”€> vm._render() // é‡æ–°ç”Ÿæˆ VNode
                              â”‚       â”‚   â”‚           â”‚   â””â”€> è®¿é—® vm.message
                              â”‚       â”‚   â”‚           â”‚       â””â”€> è§¦å‘ getterï¼Œé‡æ–°æ”¶é›†ä¾èµ–
                              â”‚       â”‚   â”‚           â””â”€> vm.__patch__(prevVnode, vnode)
                              â”‚       â”‚   â”‚               â””â”€> diff ç®—æ³•ï¼Œæœ€å°åŒ– DOM æ›´æ–°
                              â”‚       â”‚   â”‚                   â”œâ”€> patchVnode() // å¯¹æ¯”æ–°æ—§ VNode
                              â”‚       â”‚   â”‚                   â”œâ”€> updateChildren() // å¯¹æ¯”å­èŠ‚ç‚¹
                              â”‚       â”‚   â”‚                   â”œâ”€> addVnodes() // æ·»åŠ èŠ‚ç‚¹
                              â”‚       â”‚   â”‚                   â””â”€> removeVnodes() // åˆ é™¤èŠ‚ç‚¹
                              â”‚       â”‚   â””â”€> popTarget()
                              â”‚       â””â”€> this.cleanupDeps() [Watcher.js:123] ğŸ”´ æ¸…ç†ä¾èµ–
                              â”‚           â”œâ”€> ç§»é™¤ä¸å†éœ€è¦çš„ä¾èµ–
                              â”‚           â””â”€> äº¤æ¢æ–°æ—§ä¾èµ–é›†åˆ
                              â””â”€> resetSchedulerState() [Watcher.js:249] // é‡ç½®é˜Ÿåˆ—çŠ¶æ€
```

---

## ä¸‰ã€å…³é”®æ¦‚å¿µæ€»ç»“

### 1. ä¸‰ä¸ªæ ¸å¿ƒç±»

#### Depï¼ˆä¾èµ–æ”¶é›†å™¨ï¼‰
- **ä½œç”¨**: ç®¡ç†ä¾èµ–å…³ç³»ï¼Œæ”¶é›†å’Œé€šçŸ¥è®¢é˜…è€…
- **æ ¸å¿ƒå±æ€§**:
  - `id`: å”¯ä¸€æ ‡è¯†
  - `subs`: è®¢é˜…è€…æ•°ç»„ï¼ˆWatcher å®ä¾‹ï¼‰
- **æ ¸å¿ƒæ–¹æ³•**:
  - `depend()`: ä¾èµ–æ”¶é›†ï¼Œåœ¨ getter ä¸­è°ƒç”¨
  - `notify()`: æ´¾å‘æ›´æ–°ï¼Œåœ¨ setter ä¸­è°ƒç”¨

#### Observerï¼ˆè§‚å¯Ÿè€…ï¼‰
- **ä½œç”¨**: å°†æ™®é€šå¯¹è±¡è½¬æ¢ä¸ºå“åº”å¼å¯¹è±¡
- **æ ¸å¿ƒæ–¹æ³•**:
  - `walk()`: éå†å¯¹è±¡ï¼Œä¸ºæ¯ä¸ªå±æ€§æ·»åŠ  getter/setter
  - `observeArray()`: è§‚å¯Ÿæ•°ç»„çš„æ¯ä¸ªå…ƒç´ 
- **æ•°ç»„å¤„ç†**: é‡å†™æ•°ç»„çš„å˜å¼‚æ–¹æ³•ï¼ˆpushã€pop ç­‰ï¼‰

#### Watcherï¼ˆè®¢é˜…è€…ï¼‰
- **ä½œç”¨**: è®¢é˜…æ•°æ®å˜åŒ–ï¼Œæ‰§è¡Œæ›´æ–°æ“ä½œ
- **ç±»å‹**:
  - æ¸²æŸ“ Watcher: ç›‘å¬æ¸²æŸ“å‡½æ•°
  - ç”¨æˆ· Watcher: ç”¨æˆ·é€šè¿‡ $watch åˆ›å»ºçš„ä¾¦å¬å™¨
  - è®¡ç®— Watcher: è®¡ç®—å±æ€§
- **æ ¸å¿ƒæ–¹æ³•**:
  - `get()`: æ‰§è¡Œ getterï¼Œè§¦å‘ä¾èµ–æ”¶é›†
  - `update()`: æ”¶åˆ°é€šçŸ¥åï¼Œè°ƒåº¦æ›´æ–°
  - `run()`: å®é™…æ‰§è¡Œæ›´æ–°æ“ä½œ
  - `addDep()`: æ·»åŠ ä¾èµ–å…³ç³»
  - `cleanupDeps()`: æ¸…ç†ä¸å†éœ€è¦çš„ä¾èµ–

### 2. ä¾èµ–æ”¶é›†æµç¨‹

```
1. Watcher.get() å¼€å§‹æ‰§è¡Œ
2. pushTarget(this) è®¾ç½® Dep.target ä¸ºå½“å‰ Watcher
3. æ‰§è¡Œ getter å‡½æ•°ï¼ˆå¦‚æ¸²æŸ“å‡½æ•°ï¼‰
4. åœ¨ getter ä¸­è®¿é—®æ•°æ®ï¼ˆå¦‚ vm.messageï¼‰
5. è§¦å‘æ•°æ®çš„ getter
6. dep.depend() æ‰§è¡Œä¾èµ–æ”¶é›†
7. Dep.target.addDep(this) Watcher è®°å½• Dep
8. dep.addSub(this) Dep è®°å½• Watcher
9. getter æ‰§è¡Œå®Œæˆ
10. popTarget() æ¢å¤ Dep.target
11. cleanupDeps() æ¸…ç†ä¸å†éœ€è¦çš„ä¾èµ–
```

### 3. æ´¾å‘æ›´æ–°æµç¨‹

```
1. ä¿®æ”¹æ•°æ®ï¼ˆå¦‚ vm.message = 'Hello'ï¼‰
2. è§¦å‘æ•°æ®çš„ setter
3. dep.notify() æ´¾å‘æ›´æ–°
4. éå†æ‰€æœ‰è®¢é˜…è€…ï¼Œæ‰§è¡Œ watcher.update()
5. watcher åŠ å…¥è°ƒåº¦é˜Ÿåˆ—ï¼ˆå¼‚æ­¥æ‰¹å¤„ç†ï¼‰
6. åœ¨ä¸‹ä¸€ä¸ª tick æ‰§è¡Œ flushSchedulerQueue
7. éå†é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰ Watcherï¼Œæ‰§è¡Œ watcher.run()
8. watcher.get() é‡æ–°æ±‚å€¼
9. é‡æ–°æ‰§è¡Œæ¸²æŸ“å‡½æ•°ï¼Œç”Ÿæˆæ–°çš„ VNode
10. diff ç®—æ³•å¯¹æ¯”æ–°æ—§ VNodeï¼Œæœ€å°åŒ– DOM æ›´æ–°
```

### 4. å¼‚æ­¥æ‰¹å¤„ç†

Vue ä½¿ç”¨å¼‚æ­¥æ‰¹å¤„ç†æ¥ä¼˜åŒ–æ€§èƒ½ï¼š
- å¤šæ¬¡æ•°æ®ä¿®æ”¹åªè§¦å‘ä¸€æ¬¡æ¸²æŸ“
- é€šè¿‡ `nextTick` åœ¨ä¸‹ä¸€ä¸ª tick æ‰§è¡Œæ›´æ–°
- Watcher é˜Ÿåˆ—ç¡®ä¿æ›´æ–°é¡ºåºæ­£ç¡®

---

## å››ã€å®Œæ•´è°ƒç”¨é“¾ç¤ºä¾‹

### åˆå§‹åŒ–é˜¶æ®µ
```
new Vue()
  â†’ _init()
    â†’ initState()
      â†’ initData()
        â†’ observe()
          â†’ new Observer()
            â†’ walk()
              â†’ defineReactive()
                â†’ new Dep()
                â†’ Object.defineProperty (get/set)
    â†’ $mount()
      â†’ mountComponent()
        â†’ new Watcher()
          â†’ get()
            â†’ pushTarget()
            â†’ updateComponent()
              â†’ _render()
                â†’ è®¿é—®æ•°æ® â†’ è§¦å‘ getter â†’ dep.depend()
              â†’ _update()
                â†’ __patch__()
            â†’ popTarget()
```

### æ›´æ–°é˜¶æ®µ
```
ä¿®æ”¹æ•°æ®
  â†’ è§¦å‘ setter
    â†’ dep.notify()
      â†’ watcher.update()
        â†’ queueWatcher()
          â†’ nextTick()
            â†’ flushSchedulerQueue()
              â†’ watcher.run()
                â†’ get()
                  â†’ pushTarget()
                  â†’ updateComponent()
                    â†’ _render()
                    â†’ _update()
                      â†’ __patch__() â†’ DOM æ›´æ–°
                  â†’ popTarget()
                  â†’ cleanupDeps()
```

---

## äº”ã€æ–‡ä»¶å…³ç³»å›¾

```
index.js (Vue æ„é€ å‡½æ•°)
  â”œâ”€> mountComponent.js (æŒ‚è½½ç»„ä»¶)
  â”‚   â”œâ”€> Watcher.js (è®¢é˜…è€…)
  â”‚   â””â”€> Dep.js (ä¾èµ–æ”¶é›†å™¨)
  â”œâ”€> Observer.js (æ•°æ®åŠ«æŒ)
  â”‚   â””â”€> Dep.js (ä¾èµ–æ”¶é›†å™¨)
  â””â”€> tool.js (å·¥å…·å‡½æ•°)
      â”œâ”€> Dep.js (pushTarget/popTarget)
      â””â”€> Watcher.js (traverse)
```

---

## å…­ã€å…³é”®ä»£ç ä½ç½®ç´¢å¼•

| åŠŸèƒ½ | æ–‡ä»¶ | è¡Œå· |
|------|------|------|
| Vue æ„é€ å‡½æ•° | index.js | 18 |
| _init æ–¹æ³• | index.js | 28 |
| initState | index.js | 126 |
| initData | index.js | 145 |
| observe | Observer.js | 95 |
| Observer ç±» | Observer.js | 28 |
| defineReactive | Observer.js | 109 |
| Dep ç±» | Dep.js | 21 |
| Watcher ç±» | Watcher.js | 54 |
| mountComponent | mountComponent.js | 48 |
| callHook | mountComponent.js | 20 |