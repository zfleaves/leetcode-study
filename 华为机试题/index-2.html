<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>华为od机试 求满足条件的最长子串的长度</title>
    <link rel="stylesheet" href="../common.css" as="style" />
    <style>
        span.katex-mathml {
            display: none;
        }
    </style>
</head>

<body>
    <div class="elfjS" data-track-load="description_content"><p>编写一个函数来查找字符串数组中的最长公共前缀。</p>

        <p>   给定一个字符串，只包含字母和数字，按要求找出字符串中的最长（连续）子串的长度，<span>字符串本身是其最长的子串</span>，子串要求： </p>
         <p>  1、 只包含1个字母(a~z, A~Z)，其余必须是数字； </p>
          <div>  2、 字母可以在子串中的任意位置； </div>
           <div>  <br> </div>
            <div>  如果找不到满足要求的子串，如全是字母或全是数字，则返回-1。 </div> 
            <div>  <br> </div>
             <p>  <br> </p>
    </div>
    <div class="analysis">
    </div>
    </div>
    <script>
        /**
         * @param {string[]} str
         * @return {string}
         */
        function findLongestValidSubstring(s) {  
            let maxLen = -1;  
            let l = 0; // 左指针  
            let r = 0; // 右指针  
            let letterIdx = []; // 用来记录字母出现的位置  
            let hasLetter = false; // 标记是否找到了字母  
            let hasNum = false
            while (r < s.length) {
                const char = s[r]
                if (/[a-zA-Z]/.test(s[r])) {
                    if (hasLetter) {
                        l = letterIdx.shift() + 1;  
                        letterIdx.push(r)
                    } else {
                        hasLetter = true
                        letterIdx.push(r)
                        // 如果l追上了r，只能让r加1  
                        if (r === l) {  
                            r += 1;  
                            continue; // 直接进入下一个循环  
                        } 
                    }
                } else if (/\d/.test(char)) {
                    hasNum = true
                }
                maxLen = Math.max(maxLen, r - l + 1)
                r++
            }
            // 如果没有找到任何字母，返回-1  
            if (!hasLetter || !hasNum) {  
                return -1;  
            }  
        
            // 返回最长子串的长度  
            return maxLen;  
        }  
        
        // 示例用法  
        // const s = "a1b2c3d4e"; // 或者其他字符串  
        // console.log(findLongestValidSubstring(s)); // 输出应该是 5，因为 "abcde" 是最长的只包含字母的子串
        
        // // 示例使用  
        let s = "abC124Acb"; // 例如这个字符串  
        console.log(findLongestValidSubstring(s)); // 输出应该是10，因为"a123b456"或"b456c789"都是满足条件的最长子串  
        
        // s = "a5"; // 全是数字  
        // console.log(findLongestValidSubstring(s)); // 输出应该是-1，因为没有字母  
        
        // s = "aBB9"; // 全是字母  
        // console.log(findLongestValidSubstring(s)); // 输出应该是-1，因为没有数字 
        // 示例  
        console.log(findLongestValidSubstring("ABCDEF")); // 输出 8，因为"b12345678"是最长的满足条件的子串  
    </script>
    <script src="./test2.js"></script>
    <script src="./test5.js"></script>
</body>

</html>